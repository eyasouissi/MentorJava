<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.image.*?>

<AnchorPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="tn.esprit.controllers.auth.Login"
            style="-fx-background-color: #f5f5f5;">

    <VBox alignment="CENTER" spacing="20" prefWidth="400"
          AnchorPane.topAnchor="50" AnchorPane.bottomAnchor="50"
          AnchorPane.leftAnchor="50" AnchorPane.rightAnchor="50"
          style="-fx-background-color: white; -fx-padding: 30px; -fx-background-radius: 15px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0.2, 0, 4);">

        <!-- Title -->
        <Text text="Login" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-fill: #572063;"/>

        <!-- Richard the Gatekeeper -->
        <VBox alignment="CENTER" spacing="10">
            <Label text="Please impress Richard to continue:" style="-fx-font-size: 14px;"/>
            <ImageView fx:id="richardImage" fitWidth="100" fitHeight="100" preserveRatio="true"/>
            <TextField fx:id="complimentField" promptText="Say something nice to Richard..."
                       style="-fx-pref-width: 300px; -fx-pref-height: 40px; -fx-font-size: 14px;
                            -fx-background-radius: 10px; -fx-border-radius: 10px;
                            -fx-border-color: #EEA0FF; -fx-border-width: 1.5px;"/>
        </VBox>

        <!-- Email Field -->
        <TextField fx:id="emailField" promptText="Email"
                   style="-fx-pref-width: 300px; -fx-pref-height: 40px; -fx-font-size: 14px;
                          -fx-background-radius: 10px; -fx-border-radius: 10px;
                          -fx-border-color: #EEA0FF; -fx-border-width: 1.5px;"/>

        <!-- Password Field (initially hidden) -->
        <VBox fx:id="passwordBox" alignment="CENTER" spacing="10">
            <PasswordField fx:id="passwordField" promptText="Password"
                           style="-fx-pref-width: 300px; -fx-pref-height: 40px; -fx-font-size: 14px;
                                  -fx-background-radius: 10px; -fx-border-radius: 10px;
                                  -fx-border-color: #EEA0FF; -fx-border-width: 1.5px;"/>
        </VBox>

        <!-- Remember Me & Forgot Password -->
        <HBox alignment="CENTER_LEFT" spacing="10">
            <CheckBox fx:id="rememberMeCheckbox" text="Remember me"
                      style="-fx-font-size: 14px;"/>
            <Hyperlink text="Forgot password?" onAction="#handleForgotPassword"
                       style="-fx-text-fill: #47AEFF; -fx-font-size: 14px;"/>
        </HBox>

        <!-- Error Message -->
        <Label fx:id="errorLabel" style="-fx-text-fill: red; -fx-font-size: 14px;"/>

        <!-- Login Button -->
        <Button text="Login" onAction="#handleLogin" defaultButton="true"
                style="-fx-pref-width: 300px; -fx-pref-height: 40px;
                       -fx-background-color: #EEA0FF; -fx-text-fill: white;
                       -fx-font-weight: bold; -fx-font-size: 15px;
                       -fx-background-radius: 20px; -fx-cursor: hand;"/>

        <!-- Sign Up Link -->
        <HBox alignment="CENTER" spacing="5">
            <Label text="Don't have an account?" style="-fx-font-size: 14px;"/>
            <Hyperlink text="Sign up" onAction="#handleSignUpRedirect"
                       style="-fx-text-fill: #47AEFF; -fx-font-size: 14px;"/>
        </HBox>
    </VBox>
</AnchorPane>