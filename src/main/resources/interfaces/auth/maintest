<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="tn.esprit.controllers.auth.MainController"
            style="-fx-background-color: linear-gradient(
                       to bottom right,
                       #ffffff 0%,
                       #8c84a1 30%,
                       #6f6280 50%,
                       #8c84a1 70%,
                       #ffffff 100%
                   );"
            stylesheets="@/css/mainpage.css">

    <!-- Left Sidebar -->
    <left>
        <VBox fx:id="sidebarContainer" style="-fx-background-color: transparent;"/>
    </left>

    <!-- Main Content Area -->
    <center>
        <HBox spacing="40" style="-fx-padding: 40;" alignment="CENTER">

            <!-- LEFT SIDE: Welcome + Motivation + Recommendations -->
            <VBox spacing="30" alignment="TOP_LEFT" style="-fx-pref-width: 60%;">
                <!-- Welcome Text -->
                <Text fx:id="welcomeText" styleClass="welcome-text"/>

                <!-- Motivation Block -->
                <HBox spacing="20" alignment="CENTER_LEFT">
                    <VBox spacing="10" alignment="CENTER_LEFT">
                        <Label fx:id="motivationLabel" styleClass="motivation-text"/>
                    </VBox>
                    <ImageView fx:id="motivationImage"
                               fitWidth="130"
                               fitHeight="130"
                               preserveRatio="true"/>
                </HBox>

                <!-- Recommendations Container -->
                <VBox spacing="10" style="-fx-padding: 15; -fx-background-color: #ffffff; -fx-background-radius: 10;">
                    <Text text="Topics That May Interest You!"
                          style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-fill: #2c3e50;"/>
                    <FlowPane fx:id="mainRecommendationsFlowPane"
                              orientation="horizontal"
                              hgap="10"
                              vgap="10"
                              prefWrapLength="400"
                              style="-fx-padding: 10;"/>
                </VBox>

                <!-- What to Study Today -->
                <VBox spacing="10" style="-fx-padding: 15; -fx-background-color: #ffffff; -fx-background-radius: 10;">
                    <Label text="What are you planning on studying today?"
                           style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>

                    <!-- Categories Slideshow -->
                    <HBox alignment="CENTER" spacing="10">
                        <Button fx:id="prevCatButton" styleClass="nav-button">
                            <graphic>
                                <Text text="◀" style="-fx-font-size: 15; -fx-fill: white;"/>
                            </graphic>
                        </Button>

                        <ScrollPane fx:id="categoriesScroll"
                                    hbarPolicy="NEVER"
                                    vbarPolicy="NEVER"
                                    fitToWidth="true"
                                    style="-fx-background-color: transparent;">
                            <HBox fx:id="categoriesBox"
                                  spacing="15"
                                  style="-fx-padding: 10;"/>
                        </ScrollPane>

                        <Button fx:id="nextCatButton" styleClass="nav-button">
                            <graphic>
                                <Text text="▶" style="-fx-font-size: 15; -fx-fill: white;"/>
                            </graphic>
                        </Button>
                    </HBox>
                </VBox>
            </VBox>

            <!-- RIGHT SIDE: Poster Image -->
            <VBox spacing="15"
                  alignment="CENTER"
                  style="-fx-pref-width: 40%; -fx-padding: 20;">
                <ImageView fx:id="posterImage"
                           fitWidth="300"
                           fitHeight="400"
                           preserveRatio="true"
                           style="-fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 10, 0.5, 0.0, 0.0);">
                    <image>
                        <Image url="@/assets/icons/poster.png"/>
                    </image>
                </ImageView>

                <Label text="Explore New Horizons!"
                       style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                <Label text="Discover exciting topics and expand your knowledge"
                       style="-fx-font-size: 14px; -fx-text-fill: #4a5568;"/>
            </VBox>

        </HBox>
    </center>

</BorderPane>
